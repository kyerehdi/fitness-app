<ion-content [fullscreen]="true">
  <div id="container">
    <div class="header-group">
      <div class="header-title-group">
        <img src=".././../assets/prof.jpg" class="default-pic" />
        <div class="greetings">
          <h1>Good Morning,</h1>
          <p>Derrick Kyereh</p>
        </div>
        <ion-icon name="notifications" class="notification-icon"></ion-icon>
      </div>

      <div class="workout-tracker">
        <div class="content-tracker">
          <h1>You've done 3 workouts this week!</h1>
          <p>75% of your weekly goal is completed</p>
          <ion-progress-bar value=".6"></ion-progress-bar>
        </div>
      </div>
    </div>
    <br />
    <ion-row color="primary" class="row">
      <!-- <ion-segment color="primary">
        <ion-segment-button value="t1">
          <ion-label color="light">Discover</ion-label>
        </ion-segment-button>
        <ion-segment-button value="t2">
          <ion-label color="light">Trainers</ion-label>
        </ion-segment-button>
        <ion-segment-button value="t3">
          <ion-label color="light">My Plan</ion-label>
        </ion-segment-button>
      </ion-segment> -->
    </ion-row>

    <!-- <ionic-selectable></ionic-selectable> -->

    <ng-container *ngIf="!(isLoading$ | async)">
      <div
        class="auto"
        clickOutside
        (clickOutside)="handleOutsideSearchClick()"
      >
        <div class="search-container">
          <div class="search-bar-container">
            <ion-searchbar
              color="grey"
              (ionInput)="handleInput($event)"
            ></ion-searchbar>
          </div>
          <ion-icon name="menu" class="menu-icon"></ion-icon>
        </div>
        <ng-container *ngIf="(isSearching$ | async)">
          <ng-container
            *ngIf="(searchedWorkouts$ | async) as searchedWorkouts "
          >
            <auto-complete
              [workouts]="searchedWorkouts"
              (navEmit)="navToWorkoutPage($event)"
            >
            </auto-complete>
          </ng-container>
        </ng-container>
      </div>

      <h1 style="font-size: 20px; margin-left: 1em">Most popular workouts</h1>
      <div class="workouts" *ngIf="(workoutFiles$ | async) as workoutFiles">
        <workout-card
          *ngFor="let workoutFile of workoutFiles"
          [src]="workoutFile.gifUrl"
          [name]="workoutFile.workout.workout_name"
          [bodyCategory]="workoutFile.workout.major_muscle_group"
          (iconClicked)="navToWorkoutPage(workoutFile)"
        ></workout-card>
      </div>

      <h1 style="font-size: 20px; margin-left: 1em">Quick workouts</h1>

      <div
        class="workouts"
        *ngIf="(quickWorkoutFiles$ | async) as quickWorkoutFiles"
      >
        <workout-card
          *ngFor="let workoutFile of quickWorkoutFiles"
          [src]="workoutFile.gifUrl"
          [name]="workoutFile.workout.workout_name"
          [bodyCategory]="workoutFile.workout.major_muscle_group"
        ></workout-card>
      </div>
    </ng-container>

    <h1 style="font-size: 20px; margin-left: 1em">Categories</h1>
    <div class="categories">
      <div class="category" (click)="navToSearchResults('Shoulders')">
        <div class="category-img">
          <img src="../../assets/shoulders.svg" />
        </div>
        <p>Shoulders</p>
      </div>
      <div class="category" (click)="navToSearchResults('Biceps')">
        <div class="category-img">
          <img src="../../assets/bicep-icon.svg" />
        </div>
        <p>Biceps</p>
      </div>
      <div class="category" (click)="navToSearchResults('Legs')">
        <div class="category-img">
          <img src="../../assets/leg-icon.svg" />
        </div>
        <p>Legs</p>
      </div>
      <div class="category" (click)="navToSearchResults('Chest')">
        <div class="category-img">
          <img src="../../assets/chest.svg" />
        </div>
        <p>Chest</p>
      </div>
      <div class="category" (click)="navToSearchResults('Back')">
        <div class="category-img">
          <img src="../../assets/back-icon.svg" />
        </div>
        <p>Back</p>
      </div>
      <div class="category" (click)="navToSearchResults('Triceps')">
        <div class="category-img">
          <img src="../../assets/tricep-icon.svg" />
        </div>
        <p>Triceps</p>
      </div>
    </div>

    <ng-container *ngIf="(isLoading$ | async)">
      <ion-spinner class="spinner" name="circles"></ion-spinner>
    </ng-container>
  </div>
</ion-content>
